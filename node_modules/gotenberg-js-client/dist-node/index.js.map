{"version":3,"file":"index.js","sources":["../dist-src/client/node.js","../dist-src/_types.js","../dist-src/gotenberg.js","../dist-src/internal/source-checkers.js","../dist-src/internal/source-converters.js","../dist-src/please.js","../dist-src/tools/pipe.js","../dist-src/internal/fields.js","../dist-src/internal/path.js","../dist-src/internal/type.js","../dist-src/markdown.js","../dist-src/convert.js","../dist-src/office.js","../dist-src/merge.js","../dist-src/ping.js","../dist-src/html.js","../dist-src/url.js","../dist-src/adjust.js","../dist-src/internal/headers.js","../dist-src/add.js","../dist-src/set.js","../dist-src/tools/fn.js","../dist-src/page.js","../dist-src/to-helpers.js","../dist-src/to.js","../dist-src/add-helpers.js","../dist-src/set-helpers.js"],"sourcesContent":["import http from 'http';\nimport https from 'https';\nimport { URL } from 'url';\nconst parse = (url) => {\n    const _url = new URL(url);\n    const request = _url.protocol === 'http:' ? http.request : https.request;\n    return [_url, request];\n};\nexport function post(url, data, headers) {\n    const [_url, request] = parse(url);\n    return new Promise((resolve, reject) => {\n        const req = request(_url, {\n            method: 'POST',\n            ...this,\n            headers: {\n                ...data.getHeaders(),\n                ...headers,\n                ...(this ? this.headers : null),\n            },\n        });\n        req.on('error', reject);\n        req.on('response', (res) => {\n            if (res.statusCode && res.statusCode >= 200 && res.statusCode < 300) {\n                resolve(res);\n            }\n            else {\n                let error = res.statusCode + ' ' + res.statusMessage;\n                const chunks = [];\n                res.on('data', (chunk) => chunks.push(chunk));\n                res.on('end', () => {\n                    try {\n                        error += ' (' + JSON.parse(Buffer.concat(chunks).toString()).message + ')';\n                    }\n                    catch (err) {\n                    }\n                    reject(new Error(error));\n                });\n            }\n        });\n        data.pipe(req);\n    });\n}\nexport function get(url) {\n    const [_url, request] = parse(url);\n    return new Promise((resolve, reject) => {\n        const req = request(_url, {\n            method: 'GET',\n            ...this,\n        });\n        req.on('error', reject);\n        req.on('response', (res) => {\n            if (res.statusCode && res.statusCode >= 200 && res.statusCode < 300) {\n                resolve(res);\n            }\n            else {\n                res.resume();\n                reject(new Error(res.statusCode + ' ' + res.statusMessage));\n            }\n        });\n        req.end();\n    });\n}\nexport const client = (config) => ({\n    post: post.bind(config || null),\n    get: get.bind(config || null),\n});\n","export var RequestType;\n(function (RequestType) {\n    RequestType[RequestType[\"Url\"] = 0] = \"Url\";\n    RequestType[RequestType[\"Ping\"] = 1] = \"Ping\";\n    RequestType[RequestType[\"Html\"] = 2] = \"Html\";\n    RequestType[RequestType[\"Merge\"] = 3] = \"Merge\";\n    RequestType[RequestType[\"Office\"] = 4] = \"Office\";\n    RequestType[RequestType[\"Markdown\"] = 5] = \"Markdown\";\n    RequestType[RequestType[\"Undefined\"] = 6] = \"Undefined\";\n})(RequestType || (RequestType = {}));\n","import { client as native } from './client/node';\nimport { RequestType, } from './_types';\nexport const gotenberg = (url, client, config) => {\n    let instance;\n    if (typeof client === 'object' && 'post' in client) {\n        instance = client;\n    }\n    else if (typeof client === 'function') {\n        if (/^class\\s/.test(Function.prototype.toString.call(client))) {\n            instance = new client(config);\n        }\n        else {\n            instance = client(config);\n        }\n    }\n    else {\n        instance = native(config || client);\n    }\n    return (source) => ({\n        type: RequestType.Undefined,\n        url: url.toString(),\n        client: instance,\n        source,\n        fields: {},\n    });\n};\n","import { URL } from 'url';\nimport { Readable } from 'stream';\nexport const isString = (x) => typeof x === 'string';\nexport const isBuffer = (x) => x != null && x instanceof Buffer;\nexport const isStream = (x) => x != null && x instanceof Readable;\nexport const isURL = (x) => x != null && x instanceof URL;\nexport const isFileUri = (x) => isString(x) && x.startsWith('file:');\nexport const isPlain = (x) => isString(x) || isStream(x) || isBuffer(x);\nexport const isTuple = (x) => Array.isArray(x) && x.length === 2 && typeof x[0] === 'string' && isPlain(x[1]);\nexport const isObject = (x) => {\n    if (x == null ||\n        typeof x !== 'object' ||\n        Array.isArray(x) ||\n        typeof x[Symbol.iterator] === 'function' ||\n        x instanceof URL) {\n        return false;\n    }\n    for (const key in x) {\n        if (x.hasOwnProperty(key) && !isPlain(x[key]))\n            return false;\n    }\n    return true;\n};\nexport const isIterable = (x) => {\n    if (x == null || typeof x === 'string')\n        return false;\n    if (typeof x[Symbol.iterator] === 'function') {\n        for (const src of x) {\n            if (src == null)\n                return false;\n            if (!isPlain(src) && !isTuple(src) && !isObject(src))\n                return false;\n        }\n        return true;\n    }\n    return false;\n};\nconst filenameRE = /.+\\..+/;\nconst filenameReservedRE = /[<>:\"/\\\\|?*\\u0000-\\u001F]/g;\nconst windowsReservedNameRE = /^(con|prn|aux|nul|com\\d|lpt\\d)$/i;\nconst MAX_FILE_NAME_LENGTH = 255;\nexport const isFileName = (x) => isString(x) &&\n    x.length <= MAX_FILE_NAME_LENGTH &&\n    x !== '.' &&\n    x !== '..' &&\n    !x.startsWith('file:') &&\n    !filenameReservedRE.test(x) &&\n    !windowsReservedNameRE.test(x) &&\n    filenameRE.test(x);\n","import { basename, extname } from 'path';\nimport { createReadStream, ReadStream } from 'fs';\nimport { Readable } from 'stream';\nimport { isBuffer, isFileName, isFileUri, isIterable, isObject, isStream, isString, isTuple, isURL, } from './source-checkers';\nexport const DEFAULT_FILENAME = 'index.html';\nexport const toTuples = (source, recursive = false) => {\n    if (isURL(source))\n        return [];\n    if (isFileUri(source)) {\n        return !recursive && extname(source) === '.html'\n            ? [[DEFAULT_FILENAME, source]]\n            : [[basename(source), source]];\n    }\n    if (isString(source) || isBuffer(source)) {\n        return [[DEFAULT_FILENAME, source]];\n    }\n    if (isStream(source)) {\n        if (source instanceof ReadStream) {\n            const name = basename(String(source.path));\n            return !recursive && extname(name) === '.html'\n                ? [[DEFAULT_FILENAME, source]]\n                : [[name, source]];\n        }\n        else {\n            return [[DEFAULT_FILENAME, source]];\n        }\n    }\n    if (isTuple(source)) {\n        if (isFileName(source[0])) {\n            return [source];\n        }\n        throw new Error(`Source name \"${source[0]}\" doesn't look like file name`);\n    }\n    if (isObject(source)) {\n        const ret = [];\n        for (const key in source) {\n            if (source.hasOwnProperty(key)) {\n                if (isFileName(key)) {\n                    ret.push([key, source[key]]);\n                }\n                else {\n                    throw new Error(`Source name \"${key}\" doesn't look like file name`);\n                }\n            }\n        }\n        return ret;\n    }\n    if (isIterable(source)) {\n        const ret = [];\n        for (const src of source) {\n            ret.push(...toTuples(src, true));\n        }\n        return ret;\n    }\n    throw new Error(`Bad source, don't know what to do with \"${source}\"`);\n};\nexport const fromFile = (path) => createReadStream(path.replace(/^file:(\\/\\/)?/, ''));\nexport const toStream = (source) => isStream(source)\n    ? source\n    : isFileUri(source)\n        ? fromFile(source)\n        :\n            new Readable({\n                read() {\n                    this.push(source);\n                    this.push(null);\n                },\n            });\nexport const toStreams = (source) => {\n    if (!source)\n        return [];\n    const tuples = toTuples(source);\n    const ret = [];\n    for (let i = 0; i < tuples.length; i++) {\n        ret.push([tuples[i][0], toStream(tuples[i][1])]);\n    }\n    return ret;\n};\n","import FormData from 'form-data';\nimport { RequestType } from './_types';\nimport { DEFAULT_FILENAME, toStreams } from './internal/source-converters';\nconst formdata = (fields, files) => {\n    const data = new FormData();\n    for (const field in fields) {\n        if (fields.hasOwnProperty(field)) {\n            const value = fields[field];\n            if (value !== undefined) {\n                data.append(field, String(value));\n            }\n        }\n    }\n    for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        data.append(file[0], file[1], { filename: file[0] });\n    }\n    return data;\n};\nconst validateSources = (type, sources) => {\n    const filenames = sources.map((source) => source[0]);\n    const duplicates = filenames.filter((name, index, arr) => arr.indexOf(name) !== index);\n    if (duplicates.length > 0) {\n        throw new Error(`There are duplicates in file names: ${duplicates.join(',')}`);\n    }\n    const hasDefault = filenames.includes(DEFAULT_FILENAME);\n    if ((type === RequestType.Html || type === RequestType.Markdown) && !hasDefault) {\n        throw new Error(`File \"${DEFAULT_FILENAME}\" is required for ${type === RequestType.Html ? 'HTML' : 'Markdown'} conversion`);\n    }\n    if (type === RequestType.Office && hasDefault) {\n        throw new Error(`Default filename \"${DEFAULT_FILENAME}\" is not allowed for Office conversion, ` +\n            `looks like you didn't set filename for document`);\n    }\n    return sources;\n};\nexport const please = (request) => {\n    if (request.type === RequestType.Ping) {\n        if (typeof request.client.get === 'function') {\n            return request.client.get(request.url).then((response) => {\n                response.resume();\n            });\n        }\n        throw new Error(`Gotenberg client doesn't implements \"get\" method`);\n    }\n    const sources = validateSources(request.type, toStreams(request.source));\n    const form = formdata(request.fields, sources);\n    return request.client.post(request.url, form, request.headers);\n};\n","export const pipe = (...fns) => (source) => fns.reduce((request, fn) => fn(request), source);\n","export const fields = (fields) => (request) => ({\n    ...request,\n    fields: {\n        ...request.fields,\n        ...fields,\n    },\n});\n","export const path = (path) => (request) => ({\n    ...request,\n    url: (request.url || '') + path,\n});\n","import { RequestType, } from '../_types';\nexport const type = (type) => (request) => {\n    if ('type' in request && request.type !== RequestType.Undefined) {\n        throw new Error(`Cannot set \"${RequestType[type]}\" conversion, already set to \"${RequestType[request.type]}\"`);\n    }\n    return {\n        ...request,\n        type,\n    };\n};\n","import { RequestType } from './_types';\nimport { pipe } from './tools/pipe';\nimport { fields } from './internal/fields';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const markdown = (x) => 'type' in x\n    ? pipe(path('/markdown'), type(RequestType.Markdown))(x)\n    : pipe(fields(x), path('/markdown'), type(RequestType.Markdown));\n","import { path } from './internal/path';\nexport const convert = path('/convert');\n","import { RequestType } from './_types';\nimport { pipe } from './tools/pipe';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const office = pipe(path('/office'), type(RequestType.Office));\n","import { RequestType } from './_types';\nimport { isIterable, isObject } from './internal/source-checkers';\nimport { pipe } from './tools/pipe';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const merge = (request) => {\n    if (!isIterable(request.source) && !isObject(request.source)) {\n        throw new Error('Invalid source, should be iterable or object');\n    }\n    return pipe(path('/merge'), type(RequestType.Merge))(request);\n};\n","import { RequestType } from './_types';\nimport { pipe } from './tools/pipe';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const ping = pipe(path('/ping'), type(RequestType.Ping));\n","import { RequestType } from './_types';\nimport { pipe } from './tools/pipe';\nimport { fields } from './internal/fields';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const html = (x) => 'type' in x\n    ? pipe(path('/html'), type(RequestType.Html))(x)\n    : pipe(fields(x), path('/html'), type(RequestType.Html));\n","import { RequestType } from './_types';\nimport { isString, isURL } from './internal/source-checkers';\nimport { pipe } from './tools/pipe';\nimport { fields } from './internal/fields';\nimport { path } from './internal/path';\nimport { type } from './internal/type';\nexport const url = (request) => {\n    if (!isString(request.source) && !isURL(request.source)) {\n        throw new Error('Invalid source, should be url string or instance of URL');\n    }\n    return pipe(fields({\n        remoteURL: request.source.toString(),\n        marginTop: 0,\n        marginBottom: 0,\n        marginLeft: 0,\n        marginRight: 0,\n    }), path('/url'), type(RequestType.Url))({\n        ...request,\n        source: undefined,\n    });\n};\n","const merge = (request, modify) => {\n    const result = { ...request, ...modify };\n    for (const key in modify) {\n        if (modify[key] &&\n            request[key] &&\n            typeof modify[key] === 'object' &&\n            typeof request[key] === 'object') {\n            result[key] = merge(request[key], modify[key]);\n        }\n    }\n    return result;\n};\nexport const adjust = (modify) => (request) => merge(request, modify);\n","export const headers = (headers) => (request) => ({\n    ...request,\n    headers: {\n        ...request.headers,\n        ...headers,\n    },\n});\n","import { headers } from './internal/headers';\nexport const add = (...opts) => {\n    const httpHeaders = {};\n    for (let i = opts.length; i--;) {\n        const op = opts[i];\n        op(httpHeaders);\n    }\n    return headers(httpHeaders);\n};\n","import { fields } from './internal/fields';\nexport const set = (...opts) => {\n    const options = {};\n    for (let i = opts.length; i--;) {\n        const op = opts[i];\n        if (typeof op === 'function') {\n            op(options);\n        }\n        else {\n            Object.assign(options, op);\n        }\n    }\n    return fields(options);\n};\n","export const setProperty = (...fields) => (...values) => (object) => {\n    for (let i = 0; i < fields.length; i++) {\n        object[fields[i]] = values[i];\n    }\n};\n","export const A3 = [11.7, 16.5];\nexport const A4 = [8.27, 11.7];\nexport const A5 = [5.8, 8.3];\nexport const A6 = [4.1, 5.8];\nexport const LETTER = [8.5, 11];\nexport const LEGAL = [8.5, 14];\nexport const TABLOID = [11, 17];\nexport const NO_MARGINS = [0, 0, 0, 0];\nexport const NORMAL_MARGINS = [1, 1, 1, 1];\nexport const LARGE_MARGINS = [2, 2, 2, 2];\n","import { setProperty } from './tools/fn';\nimport { A3, A4, A5, A6, LARGE_MARGINS, LEGAL, LETTER, NORMAL_MARGINS, NO_MARGINS, TABLOID, } from './page';\nexport const landscape = setProperty('landscape')(true);\nexport const portrait = setProperty('landscape')();\nexport const paperSize = (paper) => Array.isArray(paper)\n    ? setProperty('paperWidth', 'paperHeight')(...paper)\n    : setProperty('paperWidth', 'paperHeight')(paper.width, paper.height);\nexport const a3 = paperSize(A3);\nexport const a4 = paperSize(A4);\nexport const a5 = paperSize(A5);\nexport const a6 = paperSize(A6);\nexport const legal = paperSize(LEGAL);\nexport const letter = paperSize(LETTER);\nexport const tabloid = paperSize(TABLOID);\nexport const marginSizes = (margins) => Array.isArray(margins)\n    ? setProperty('marginTop', 'marginRight', 'marginBottom', 'marginLeft')(...margins)\n    : setProperty('marginTop', 'marginRight', 'marginBottom', 'marginLeft')(margins.top, margins.right, margins.bottom, margins.left);\nexport const noMargins = marginSizes(NO_MARGINS);\nexport const normalMargins = marginSizes(NORMAL_MARGINS);\nexport const largeMargins = marginSizes(LARGE_MARGINS);\n","import { fields } from './internal/fields';\nimport { marginSizes, paperSize } from './to-helpers';\nexport const to = (...opts) => {\n    const options = {};\n    let paper;\n    let margins;\n    for (let i = opts.length; i--;) {\n        const op = opts[i];\n        if (typeof op === 'function') {\n            op(options);\n            continue;\n        }\n        if (Array.isArray(op)) {\n            if (op.length === 2)\n                paper = op;\n            if (op.length === 4)\n                margins = op;\n            continue;\n        }\n        if ('width' in op || 'height' in op) {\n            paper = op;\n            continue;\n        }\n        if ('top' in op || 'right' in op || 'bottom' in op || 'left' in op) {\n            margins = op;\n            continue;\n        }\n        if ('paper' in op && op.paper) {\n            paper = op.paper;\n            op.paper = undefined;\n        }\n        if ('margins' in op && op.margins) {\n            margins = op.margins;\n            op.margins = undefined;\n        }\n        Object.assign(options, op);\n    }\n    paper && paperSize(paper)(options);\n    margins && marginSizes(margins)(options);\n    return fields(options);\n};\n","import { setProperty } from './tools/fn';\nexport const header = (name, value) => setProperty(`Gotenberg-Remoteurl-${name}`)(value);\nexport const headers = (headers) => (_) => {\n    for (const name in headers) {\n        header(name, headers[name])(_);\n    }\n};\nexport const webhookHeader = (name, value) => setProperty(`Gotenberg-Webhookurl-${name}`)(value);\nexport const webhookHeaders = (headers) => (_) => {\n    for (const name in headers) {\n        webhookHeader(name, headers[name])(_);\n    }\n};\n","import { setProperty } from './tools/fn';\nexport const filename = setProperty('resultFilename');\nexport const timeout = setProperty('waitTimeout');\nexport const delay = setProperty('waitDelay');\nexport const webhook = setProperty('webhookURL', 'webhookURLTimeout');\nexport const googleChromeRpccBufferSize = setProperty('googleChromeRpccBufferSize');\nexport const range = setProperty('pageRanges');\nexport const scale = setProperty('scale');\n"],"names":["parse","url","_url","URL","request","protocol","http","https","post","data","headers","Promise","resolve","reject","req","method","getHeaders","on","res","statusCode","error","statusMessage","chunks","chunk","push","JSON","Buffer","concat","toString","message","err","Error","pipe","get","resume","end","client","config","bind","RequestType","gotenberg","instance","test","Function","prototype","call","native","source","type","Undefined","fields","isString","x","isBuffer","isStream","Readable","isURL","isFileUri","startsWith","isPlain","isTuple","Array","isArray","length","isObject","Symbol","iterator","key","hasOwnProperty","isIterable","src","filenameRE","filenameReservedRE","windowsReservedNameRE","MAX_FILE_NAME_LENGTH","isFileName","DEFAULT_FILENAME","toTuples","recursive","extname","basename","ReadStream","name","String","path","ret","fromFile","createReadStream","replace","toStream","read","toStreams","tuples","i","formdata","files","FormData","field","value","undefined","append","file","filename","validateSources","sources","filenames","map","duplicates","filter","index","arr","indexOf","join","hasDefault","includes","Html","Markdown","Office","please","Ping","then","response","form","fns","reduce","fn","markdown","convert","office","merge","Merge","ping","html","remoteURL","marginTop","marginBottom","marginLeft","marginRight","Url","modify","result","adjust","add","opts","httpHeaders","op","set","options","Object","assign","setProperty","values","object","A3","A4","A5","A6","LETTER","LEGAL","TABLOID","NO_MARGINS","NORMAL_MARGINS","LARGE_MARGINS","landscape","portrait","paperSize","paper","width","height","a3","a4","a5","a6","legal","letter","tabloid","marginSizes","margins","top","right","bottom","left","noMargins","normalMargins","largeMargins","to","header","_","webhookHeader","webhookHeaders","timeout","delay","webhook","googleChromeRpccBufferSize","range","scale"],"mappings":"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"}